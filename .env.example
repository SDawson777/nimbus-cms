# Example environment variables for local development and production.
# Copy this file to `.env` and fill in real values. DO NOT commit real secrets.
# IMPORTANT: Create real tokens in your deployment environment, and rotate them if you imported
# this repository from a public place. Never commit `.env` containing real credentials.

# Port the API should listen on
PORT=4010

# Sanity configuration
SANITY_PROJECT_ID=your_sanity_project_id
SANITY_DATASET=production
SANITY_API_VERSION=2023-07-01

# Long-lived token for server-side Sanity requests (keep secret)
SANITY_API_TOKEN=your_sanity_api_token

# JWT secret for admin cookies and API auth (keep secret). Use 32+ random chars.
JWT_SECRET=please_replace_with_32_char_secret

# Preview secret used for draft/preview mode (keep secret)
PREVIEW_SECRET=preview-secret
SANITY_PREVIEW_TOKEN=your_sanity_preview_token

# Comma-separated list of allowed web origins for CORS (required in production)
# Example: https://admin.yourbrand.com,https://dashboard.yourbrand.com
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Rate limit tuning (defaults shown). Adjust for your deployment footprint.
ADMIN_LOGIN_RATE_LIMIT_WINDOW_MS=60000
ADMIN_LOGIN_RATE_LIMIT_MAX=8
ANALYTICS_RATE_LIMIT_WINDOW_MS=60000
ANALYTICS_RATE_LIMIT_MAX=60
ANALYTICS_FALLBACK_RATE_WINDOW_MS=60000
ANALYTICS_FALLBACK_RATE_MAX=120

# Comma-separated list of allowed analytics ingest keys. Each client must sign
# POST /analytics/event requests with HMAC-SHA256 using one of these keys.
ANALYTICS_INGEST_KEY=analytics-dev-key

# Compliance automation
# Set to true on exactly one instance to enable the scheduled compliance snapshot job.
ENABLE_COMPLIANCE_SCHEDULER=false
# Optional: override compliance overview cache TTL (ms). Defaults to 60000.
# COMPLIANCE_OVERVIEW_CACHE_TTL_MS=60000

# Optional: other service credentials
# EXPO_PUBLIC_CMS_API_URL=https://cms.example.com
# LOG_LEVEL=info

# Client-visible runtime config (prefixed with VITE_). THESE VARIABLES ARE
# EXPOSED TO BROWSER JS â€” do NOT put secrets here. Use server-side tokens
# (no VITE_ prefix) for sensitive values.
VITE_NIMBUS_THEME=default
VITE_MAPBOX_TOKEN=your_public_mapbox_token

# Server-side Mapbox token (keep secret if used server-side)
MAPBOX_TOKEN=your_server_mapbox_token

# Allowlist for preview CORS origins (comma-separated). Used to allow
# preview embeds from different origins. Example: http://localhost:3000
ALLOW_PREVIEW_CORS=http://localhost:3000

# Note: `PREVIEW_SECRET` and other secret tokens must only be defined
# on the server (do not add `VITE_PREVIEW_SECRET` or similar client-side
# variants). When deploying, set secrets in your deployment environment
# rather than checking them into source control.
